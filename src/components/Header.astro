---
// Header component
---

<script>
  if (typeof window !== 'undefined') {
    window.toggleTheme = function () {
      document.body.classList.toggle('dark');
      // Guardar preferencia en localStorage
      if(document.body.classList.contains('dark')) {
        localStorage.setItem('theme', 'dark');
      } else {
        localStorage.setItem('theme', 'light');
      }
    }
    // Al cargar, aplicar preferencia guardada
    window.addEventListener('DOMContentLoaded', () => {
      const theme = localStorage.getItem('theme');
      if(theme === 'dark') document.body.classList.add('dark');
      if(theme === 'light') document.body.classList.remove('dark');
    });
  }
</script>

<header class="fixed top-0 w-full z-50 glass-effect-strong border-b border-white/10">
  <div class="container-xl">
    <div class="flex justify-between items-center py-4 lg:py-6">
      <!-- Logo -->
      <a href="/" class="flex items-center group transition-transform duration-300 hover:scale-105">
        <img src="/top-learning-logo.png" alt="Top Learning Logo" class="h-12 w-auto mr-2 drop-shadow-lg" style="max-height:48px;" />
        <span class="sr-only">Top Learning</span>
      </a>
      
      <!-- Navegación desktop -->
      <nav class="hidden lg:flex space-x-8 text-gray-300">
        <a href="#features" class="font-heading text-sm lg:text-base hover:text-white transition-all duration-300 relative group">
          Características
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-[var(--brand-orange)] transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/pricing" class="font-heading text-sm lg:text-base hover:text-white transition-all duration-300 relative group">
          Precios
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-[var(--brand-orange)] transition-all duration-300 group-hover:w-full"></span>
        </a>
        <a href="/contact" class="font-heading text-sm lg:text-base hover:text-white transition-all duration-300 relative group">
          Contacto
          <span class="absolute -bottom-1 left-0 w-0 h-0.5 bg-[var(--brand-orange)] transition-all duration-300 group-hover:w-full"></span>
        </a>
      </nav>
      
      <!-- Botones de acción desktop -->
      <div class="hidden lg:flex items-center space-x-4">
        <a href="/login" class="btn btn-ghost btn-sm font-heading">
          Iniciar sesión
        </a>
        <a href="/signup" class="btn btn-primary btn-sm font-heading">
          Registrarse
        </a>
      </div>
      
      <!-- Botón de cambio de modo claro/oscuro -->
      <button onclick="window.toggleTheme()" aria-label="Cambiar modo claro/oscuro" class="ml-4 p-2 rounded-full border border-[var(--brand-purple)] bg-white/80 dark:bg-[var(--brand-purple)] dark:border-white shadow hover:scale-110 transition-transform duration-200">
        <svg id="icon-sun" class="w-6 h-6 text-[var(--brand-purple)] dark:hidden" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="5" />
          <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" />
        </svg>
        <svg id="icon-moon" class="w-6 h-6 text-white hidden dark:inline" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path d="M21 12.79A9 9 0 1111.21 3a7 7 0 109.79 9.79z" />
        </svg>
      </button>
      
      <!-- Botón móvil -->
      <button class="lg:hidden btn btn-ghost btn-sm p-2 text-gray-300 hover:text-white transition-colors duration-300 hover-glow">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
      </button>
    </div>
  </div>
  
  <!-- Menú móvil (oculto por defecto) -->
  <div class="lg:hidden hidden bg-gray-900/95 backdrop-blur-lg border-t border-white/10">
    <div class="container-xl py-4">
      <nav class="flex flex-col space-y-4">
        <a href="#features" class="font-heading text-base hover:text-[var(--brand-orange)] transition-colors duration-300 py-2">
          Características
        </a>
        <a href="/pricing" class="font-heading text-base hover:text-[var(--brand-orange)] transition-colors duration-300 py-2">
          Precios
        </a>
        <a href="/contact" class="font-heading text-base hover:text-[var(--brand-orange)] transition-colors duration-300 py-2">
          Contacto
        </a>
        <div class="flex flex-col space-y-3 pt-4 border-t border-white/10">
          <a href="/login" class="btn btn-ghost btn-md font-heading w-full">
            Iniciar sesión
          </a>
          <a href="/signup" class="btn btn-primary btn-md font-heading w-full">
            Registrarse
          </a>
        </div>
      </nav>
    </div>
  </div>
</header>
